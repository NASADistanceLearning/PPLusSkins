function vpgn(b,a,c){var c=(typeof c=="undefined")?"div":c;this.pieces=vpgn.cebc(b,c);this.portionsize=Number((typeof a==""||typeof a=="0")?1:(a>0&&a<this.pieces.length)?a:this.pieces.length);this.pagecount=Math.ceil(this.pieces.length/this.portionsize);this.showpage(-1);this.currentpage=0;this.showpage(this.currentpage)}vpgn.cebc=function(d,e){var a=new RegExp("(^|\\s+)"+d+"($|\\s+)","i");var b=[];var f=document.getElementsByTagName(e);for(var c=0;c<f.length;c++){if(typeof f[c].className=="string"&&f[c].className.search(a)!=-1){b[b.length]=f[c]}}return b};vpgn.prototype.showpage=function(d){var b=this.pieces.length;var a=d*this.portionsize;var c=a+this.portionsize-1;for(var e=0;e<b;e++){if(e>=a&&e<=c){this.pieces[e].style.display="inline"}else{this.pieces[e].style.display="none"}}this.currentpage=parseInt(d);if(this.cpspan){this.cpspan.innerHTML="Page "+(this.currentpage+1)+"/"+this.pagecount}};vpgn.prototype.pbs=function(b){var c=this;this.selectmenupresent=1;for(var a=0;a<this.pagecount;a++){b.options[a]=new Option("Page "+(a+1)+" of "+this.pagecount,a)}b.selectedIndex=this.currentpage;b.onchange=function(){c.showpage(this.selectedIndex)}};vpgn.prototype.pbrl=function(b){var c=this;for(var a=0;a<b.length;a++){var d=b[a].getAttribute("rel");if(d=="previous"||d=="next"){b[a].onclick=function(){c.navigate(this.getAttribute("rel"));return false}}}};vpgn.prototype.pbf=function(d){var c=this;var a="";for(var b=0;b<this.pagecount;b++){a+='<a href="#flatview" rel="'+b+'">'+(b+1)+"</a> "}d.innerHTML=a;this.fvl=d.getElementsByTagName("a");for(var b=0;b<this.fvl.length;b++){this.fvl[b].onclick=function(){c.fvl[c.currentpage].className="";this.className="selected";c.showpage(this.getAttribute("rel"));return false}}this.fvl[this.currentpage].className="selected";this.flatviewpresent=true};vpgn.prototype.paginate_build_cpinfo=function(a){this.cpspan=a;a.innerHTML="Page "+(this.currentpage+1)+"/"+this.pagecount};vpgn.prototype.createpagination=function(d){var c=this;var a=document.getElementById(d);if(this.portionsize==this.pieces.length){a.style.display="none";return}var b=a.innerHTML;if(a.getElementsByTagName("select").length>0){this.pbs(a.getElementsByTagName("select")[0])}if(a.getElementsByTagName("a").length>0){this.pbrl(a.getElementsByTagName("a"))}this.pdiv=a};vpgn.prototype.navigate=function(a){if(this.flatviewpresent){this.fvl[this.currentpage].className=""}if(a=="previous"){this.currentpage=(this.currentpage>0)?this.currentpage-1:(this.currentpage==0)?this.pagecount-1:0}else{if(a=="next"){this.currentpage=(this.currentpage<this.pagecount-1)?this.currentpage+1:0}}this.showpage(this.currentpage);if(this.selectmenupresent){this.pdiv.getElementsByTagName("select")[0].selectedIndex=this.currentpage}if(this.flatviewpresent){this.fvl[this.currentpage].className="selected"}};